<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>10-21 Participation</title>
    <style>
        legend{
            padding: 10px;
        }
        fieldset{
            border: 1px dashed red;
            padding: 10px;
            margin: 10px;
        }
        form{
            padding: 10px;
            margin: 10px;
        }
        .hide {
            display: none;
        }
    </style>
    <script>
        window.addEventListener("DOMContentLoaded", domLoaded);

        function domLoaded(){
            var firstName = document.getElementById("first")
            var lastName = document.getElementById("last")
            var emailAdrs = document.getElementById("email")
            const saveButton1 = document.getElementById('saveBtn1')
            const saveButton2 = document.getElementById('saveBtn2')
            const saveButton3 = document.getElementById('saveBtn3')
            const submitButton = document.getElementById('submitBtn')
            var text1 = document.getElementById("text1")
            var text2 = document.getElementById("text2")
            var text3 = document.getElementById("text3");
            

            saveButton1.addEventListener('click', () => {
                if(firstName.value != ""){
                    localStorage.setItem("First Name", firstName.value);
                    text1.innerHTML = "First name saved!"
                    text1.style = "background-color: green"
                    text1.classList.remove('hide')
                    
                    
                }
                else{
                    text1.innerHTML = "Error: You must add a value"
                    text1.style = "background-color: red"
                    text1.classList.remove('hide')
                    
                }
            });
            saveButton2.addEventListener('click', () => {
                if(lastName.value != ""){
                    localStorage.setItem("Last Name", lastName.value);
                    text2.innerHTML = "Last name saved!"
                    text2.style = "background-color: green" 
                }
                else{
                    text2.innerHTML = "Error: You must add a value"
                    text2.style = "background-color: red"
                    text2.classList.remove('hide')
                }
            });
            saveButton3.addEventListener('click', () => {
                if(emailAdrs.value != ""){
                    localStorage.setItem("Email", emailAdrs.value);
                    text3.innerHTML = "Email saved!"
                    text3.style = "background-color: green"   
                }
                else{
                    text3.innerHTML = "Error: You must add a value"
                    text3.style = "background-color: red"
                    text3.classList.remove('hide')
                }
            });
            function myValidation()
            {
                if(localStorage.getItem("First Name")){
                    console.log("1")
                    returnToPreviousPage();
                    return false;
                }
                console.log("2")
                return true;
            }
        }
        
    </script>
</head>

<body>

    <fieldset>
        <legend>CPSC 332 10/21 Participation</legend>
      
        <form method="post" action="submission.html">
            <p>
                <label for="first">First Name:</label>
                <input type="text" name="first" id="first" required>
                <button type="button" id="saveBtn1">Save Data</button>
            </p>
            <p id="text1" class="hide">Text</p>
            <p>
                <label for="last">Last Name:</label>
                <input type="text" name="last" id="last" required>
                <button type="button" id="saveBtn2">Save Data</button>
            </p>
            <p id="text2" class="hide">Text</p>
            <p>
                <label for="email">Email Address:</label>
                <input type="text" name="email" id="email" required>
                <button type="button" id="saveBtn3">Save Data</button>
            </p>
            <p id="text3" class="hide">Text</p>
            <input type="submit" id="submitBtn" value="Submit Response"> 
         </form>
      </fieldset>


    <p><a href="../index.html"> Back to Index </a> </p>
</body>

</html>